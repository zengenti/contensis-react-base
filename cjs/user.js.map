{"version":3,"file":"user.js","sources":["../src/user/hocs/withLogin.js","../src/user/hocs/withRegistration.js"],"sourcesContent":["import React from 'react';\r\nimport { useCookies } from 'react-cookie';\r\nimport { connect } from 'react-redux';\r\nimport { loginUser, logoutUser } from '../redux/actions';\r\nimport {\r\n  selectUser,\r\n  selectUserErrorMessage,\r\n  selectUserIsAuthenticationError,\r\n  selectUserIsError,\r\n  selectUserIsAuthenticated,\r\n  selectUserIsLoading,\r\n} from '../redux/selectors';\r\nimport { CookieHelper } from '../util/CookieHelper.class';\r\nimport { toJS } from '~/util/ToJs';\r\n\r\nconst getDisplayName = WrappedComponent => {\r\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\r\n};\r\n\r\nconst withLogin = WrappedComponent => {\r\n  const mapStateToProps = state => {\r\n    return {\r\n      errorMessage: selectUserErrorMessage(state),\r\n      isAuthenticated: selectUserIsAuthenticated(state),\r\n      isAuthenticationError: selectUserIsAuthenticationError(state),\r\n      isError: selectUserIsError(state),\r\n      isLoading: selectUserIsLoading(state),\r\n      user: selectUser(state),\r\n      // DEPRECATED: authenticationError is deprecated use isAuthenticationError instead\r\n      authenticationError: selectUserIsAuthenticationError(state),\r\n      // DEPRECATED: error is deprecated use isError instead\r\n      error: selectUserIsError(state),\r\n    };\r\n  };\r\n\r\n  const ConnectedComponent = () => {\r\n    const cookies = new CookieHelper(...useCookies());\r\n\r\n    const mapDispatchToProps = {\r\n      loginUser: (username, password) => loginUser(username, password, cookies),\r\n      logoutUser: redirectPath => logoutUser(redirectPath, cookies),\r\n    };\r\n\r\n    const FinalComponent = connect(\r\n      mapStateToProps,\r\n      mapDispatchToProps\r\n    )(toJS(WrappedComponent));\r\n\r\n    return <FinalComponent />;\r\n  };\r\n\r\n  ConnectedComponent.displayName = `${getDisplayName(WrappedComponent)}`;\r\n  ConnectedComponent.WrappedComponent = WrappedComponent;\r\n\r\n  return ConnectedComponent;\r\n};\r\n\r\nexport default withLogin;\r\n","import { connect } from 'react-redux';\r\nimport { registerUser } from '../redux/actions';\r\nimport {\r\n  selectUserRegistration,\r\n  selectUserRegistrationError,\r\n  selectUserRegistrationIsLoading,\r\n  selectUserRegistrationIsSuccess,\r\n} from '../redux/selectors';\r\nimport { toJS } from '~/util/ToJs';\r\n\r\nconst getDisplayName = WrappedComponent => {\r\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\r\n};\r\n\r\nconst withRegistration = WrappedComponent => {\r\n  const mapStateToProps = state => {\r\n    return {\r\n      error: selectUserRegistrationError(state),\r\n      isLoading: selectUserRegistrationIsLoading(state),\r\n      isSuccess: selectUserRegistrationIsSuccess(state),\r\n      user: selectUserRegistration(state),\r\n    };\r\n  };\r\n\r\n  const mapDispatchToProps = {\r\n    registerUser,\r\n  };\r\n\r\n  const ConnectedComponent = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(toJS(WrappedComponent));\r\n\r\n  ConnectedComponent.displayName = `${getDisplayName(WrappedComponent)}`;\r\n\r\n  return ConnectedComponent;\r\n};\r\n\r\nexport default withRegistration;\r\n"],"names":["getDisplayName","WrappedComponent","displayName","name","withLogin","mapStateToProps","state","errorMessage","selectUserErrorMessage","isAuthenticated","selectUserIsAuthenticated","isAuthenticationError","selectUserIsAuthenticationError","isError","selectUserIsError","isLoading","selectUserIsLoading","user","selectUser","authenticationError","error","ConnectedComponent","cookies","CookieHelper","useCookies","mapDispatchToProps","loginUser","username","password","logoutUser","redirectPath","FinalComponent","connect","toJS","React","createElement","withRegistration","selectUserRegistrationError","selectUserRegistrationIsLoading","isSuccess","selectUserRegistrationIsSuccess","selectUserRegistration","registerUser"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAeA,MAAMA,gBAAc,GAAGC,gBAAgB,IAAI;EACzC,OAAOA,gBAAgB,CAACC,WAAW,IAAID,gBAAgB,CAACE,IAAI,IAAI,WAAW,CAAA;AAC7E,CAAC,CAAA;AAEKC,MAAAA,SAAS,GAAGH,gBAAgB,IAAI;EACpC,MAAMI,eAAe,GAAGC,KAAK,IAAI;IAC/B,OAAO;AACLC,MAAAA,YAAY,EAAEC,2BAAsB,CAACF,KAAK,CAAC;AAC3CG,MAAAA,eAAe,EAAEC,8BAAyB,CAACJ,KAAK,CAAC;AACjDK,MAAAA,qBAAqB,EAAEC,oCAA+B,CAACN,KAAK,CAAC;AAC7DO,MAAAA,OAAO,EAAEC,sBAAiB,CAACR,KAAK,CAAC;AACjCS,MAAAA,SAAS,EAAEC,wBAAmB,CAACV,KAAK,CAAC;AACrCW,MAAAA,IAAI,EAAEC,eAAU,CAACZ,KAAK,CAAC;AACvB;AACAa,MAAAA,mBAAmB,EAAEP,oCAA+B,CAACN,KAAK,CAAC;AAC3D;MACAc,KAAK,EAAEN,sBAAiB,CAACR,KAAK,CAAA;KAC/B,CAAA;GACF,CAAA;EAED,MAAMe,kBAAkB,GAAGA,MAAM;IAC/B,MAAMC,OAAO,GAAG,IAAIC,iBAAY,CAAC,GAAGC,sBAAU,EAAE,CAAC,CAAA;AAEjD,IAAA,MAAMC,kBAAkB,GAAG;AACzBC,MAAAA,SAAS,EAAEA,CAACC,QAAQ,EAAEC,QAAQ,KAAKF,kCAAS,CAACC,QAAQ,EAAEC,QAAQ,EAAEN,OAAO,CAAC;AACzEO,MAAAA,UAAU,EAAEC,YAAY,IAAID,mCAAU,CAACC,YAAY,EAAER,OAAO,CAAA;KAC7D,CAAA;AAED,IAAA,MAAMS,cAAc,GAAGC,kBAAO,CAC5B3B,eAAe,EACfoB,kBAAkB,CACnB,CAACQ,SAAI,CAAChC,gBAAgB,CAAC,CAAC,CAAA;AAEzB,IAAA,oBAAOiC,yBAAA,CAAAC,aAAA,CAACJ,cAAc,EAAG,IAAA,CAAA,CAAA;GAC1B,CAAA;EAEDV,kBAAkB,CAACnB,WAAW,GAAI,CAAA,EAAEF,gBAAc,CAACC,gBAAgB,CAAE,CAAC,CAAA,CAAA;EACtEoB,kBAAkB,CAACpB,gBAAgB,GAAGA,gBAAgB,CAAA;AAEtD,EAAA,OAAOoB,kBAAkB,CAAA;AAC3B;;AC7CA,MAAMrB,cAAc,GAAGC,gBAAgB,IAAI;EACzC,OAAOA,gBAAgB,CAACC,WAAW,IAAID,gBAAgB,CAACE,IAAI,IAAI,WAAW,CAAA;AAC7E,CAAC,CAAA;AAEKiC,MAAAA,gBAAgB,GAAGnC,gBAAgB,IAAI;EAC3C,MAAMI,eAAe,GAAGC,KAAK,IAAI;IAC/B,OAAO;AACLc,MAAAA,KAAK,EAAEiB,gCAA2B,CAAC/B,KAAK,CAAC;AACzCS,MAAAA,SAAS,EAAEuB,oCAA+B,CAAChC,KAAK,CAAC;AACjDiC,MAAAA,SAAS,EAAEC,oCAA+B,CAAClC,KAAK,CAAC;MACjDW,IAAI,EAAEwB,2BAAsB,CAACnC,KAAK,CAAA;KACnC,CAAA;GACF,CAAA;AAED,EAAA,MAAMmB,kBAAkB,GAAG;AACzBiB,kBAAAA,qCAAAA;GACD,CAAA;AAED,EAAA,MAAMrB,kBAAkB,GAAGW,kBAAO,CAChC3B,eAAe,EACfoB,kBAAkB,CACnB,CAACQ,SAAI,CAAChC,gBAAgB,CAAC,CAAC,CAAA;EAEzBoB,kBAAkB,CAACnB,WAAW,GAAI,CAAA,EAAEF,cAAc,CAACC,gBAAgB,CAAE,CAAC,CAAA,CAAA;AAEtE,EAAA,OAAOoB,kBAAkB,CAAA;AAC3B;;;;;;;;;;;;;;;;;;;;;"}