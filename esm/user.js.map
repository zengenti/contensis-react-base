{"version":3,"file":"user.js","sources":["../src/user/hocs/withLogin.js","../src/user/hocs/withRegistration.js"],"sourcesContent":["import React from 'react';\nimport { useCookies } from 'react-cookie';\nimport { connect } from 'react-redux';\nimport { loginUser, logoutUser } from '../redux/actions';\nimport {\n  selectUser,\n  selectUserErrorMessage,\n  selectUserIsAuthenticationError,\n  selectUserIsError,\n  selectUserIsAuthenticated,\n  selectUserIsLoading,\n} from '../redux/selectors';\nimport { CookieHelper } from '../util/CookieHelper.class';\nimport { toJS } from '~/util/ToJs';\n\nconst getDisplayName = WrappedComponent => {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n};\n\nconst withLogin = WrappedComponent => {\n  const mapStateToProps = state => {\n    return {\n      errorMessage: selectUserErrorMessage(state),\n      isAuthenticated: selectUserIsAuthenticated(state),\n      isAuthenticationError: selectUserIsAuthenticationError(state),\n      isError: selectUserIsError(state),\n      isLoading: selectUserIsLoading(state),\n      user: selectUser(state),\n      // DEPRECATED: authenticationError is deprecated use isAuthenticationError instead\n      authenticationError: selectUserIsAuthenticationError(state),\n      // DEPRECATED: error is deprecated use isError instead\n      error: selectUserIsError(state),\n    };\n  };\n\n  const ConnectedComponent = () => {\n    const cookies = new CookieHelper(...useCookies());\n\n    const mapDispatchToProps = {\n      loginUser: (username, password) => loginUser(username, password, cookies),\n      logoutUser: redirectPath => logoutUser(redirectPath, cookies),\n    };\n\n    const FinalComponent = connect(\n      mapStateToProps,\n      mapDispatchToProps\n    )(toJS(WrappedComponent));\n\n    return <FinalComponent />;\n  };\n\n  ConnectedComponent.displayName = `${getDisplayName(WrappedComponent)}`;\n  ConnectedComponent.WrappedComponent = WrappedComponent;\n\n  return ConnectedComponent;\n};\n\nexport default withLogin;\n","import { connect } from 'react-redux';\nimport { registerUser } from '../redux/actions';\nimport {\n  selectUserRegistration,\n  selectUserRegistrationError,\n  selectUserRegistrationIsLoading,\n  selectUserRegistrationIsSuccess,\n} from '../redux/selectors';\nimport { toJS } from '~/util/ToJs';\n\nconst getDisplayName = WrappedComponent => {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n};\n\nconst withRegistration = WrappedComponent => {\n  const mapStateToProps = state => {\n    return {\n      error: selectUserRegistrationError(state),\n      isLoading: selectUserRegistrationIsLoading(state),\n      isSuccess: selectUserRegistrationIsSuccess(state),\n      user: selectUserRegistration(state),\n    };\n  };\n\n  const mapDispatchToProps = {\n    registerUser,\n  };\n\n  const ConnectedComponent = connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(toJS(WrappedComponent));\n\n  ConnectedComponent.displayName = `${getDisplayName(WrappedComponent)}`;\n\n  return ConnectedComponent;\n};\n\nexport default withRegistration;\n"],"names":["getDisplayName","WrappedComponent","displayName","name","withLogin","mapStateToProps","state","errorMessage","selectUserErrorMessage","isAuthenticated","selectUserIsAuthenticated","isAuthenticationError","selectUserIsAuthenticationError","isError","selectUserIsError","isLoading","selectUserIsLoading","user","selectUser","authenticationError","error","ConnectedComponent","cookies","CookieHelper","useCookies","mapDispatchToProps","loginUser","username","password","logoutUser","redirectPath","FinalComponent","connect","toJS","withRegistration","selectUserRegistrationError","selectUserRegistrationIsLoading","isSuccess","selectUserRegistrationIsSuccess","selectUserRegistration","registerUser"],"mappings":";;;;;;;;;;;;;;;;AAeA,MAAMA,gBAAc,GAAGC,gBAAgB,IAAI;EACzC,OAAOA,gBAAgB,CAACC,WAAjB,IAAgCD,gBAAgB,CAACE,IAAjD,IAAyD,WAAhE,CAAA;AACD,CAFD,CAAA;;AAIMC,MAAAA,SAAS,GAAGH,gBAAgB,IAAI;EACpC,MAAMI,eAAe,GAAGC,KAAK,IAAI;IAC/B,OAAO;AACLC,MAAAA,YAAY,EAAEC,sBAAsB,CAACF,KAAD,CAD/B;AAELG,MAAAA,eAAe,EAAEC,yBAAyB,CAACJ,KAAD,CAFrC;AAGLK,MAAAA,qBAAqB,EAAEC,+BAA+B,CAACN,KAAD,CAHjD;AAILO,MAAAA,OAAO,EAAEC,iBAAiB,CAACR,KAAD,CAJrB;AAKLS,MAAAA,SAAS,EAAEC,mBAAmB,CAACV,KAAD,CALzB;AAMLW,MAAAA,IAAI,EAAEC,UAAU,CAACZ,KAAD,CANX;AAOL;AACAa,MAAAA,mBAAmB,EAAEP,+BAA+B,CAACN,KAAD,CAR/C;AASL;MACAc,KAAK,EAAEN,iBAAiB,CAACR,KAAD,CAAA;KAV1B,CAAA;GADF,CAAA;;EAeA,MAAMe,kBAAkB,GAAG,MAAM;IAC/B,MAAMC,OAAO,GAAG,IAAIC,YAAJ,CAAiB,GAAGC,UAAU,EAA9B,CAAhB,CAAA;AAEA,IAAA,MAAMC,kBAAkB,GAAG;AACzBC,MAAAA,SAAS,EAAE,CAACC,QAAD,EAAWC,QAAX,KAAwBF,SAAS,CAACC,QAAD,EAAWC,QAAX,EAAqBN,OAArB,CADnB;AAEzBO,MAAAA,UAAU,EAAEC,YAAY,IAAID,UAAU,CAACC,YAAD,EAAeR,OAAf,CAAA;KAFxC,CAAA;AAKA,IAAA,MAAMS,cAAc,GAAGC,OAAO,CAC5B3B,eAD4B,EAE5BoB,kBAF4B,CAAP,CAGrBQ,IAAI,CAAChC,gBAAD,CAHiB,CAAvB,CAAA;IAKA,oBAAO,KAAA,CAAA,aAAA,CAAC,cAAD,EAAP,IAAA,CAAA,CAAA;GAbF,CAAA;;EAgBAoB,kBAAkB,CAACnB,WAAnB,GAAkC,CAAA,EAAEF,gBAAc,CAACC,gBAAD,CAAmB,CAArE,CAAA,CAAA;EACAoB,kBAAkB,CAACpB,gBAAnB,GAAsCA,gBAAtC,CAAA;AAEA,EAAA,OAAOoB,kBAAP,CAAA;AACD;;AC7CD,MAAMrB,cAAc,GAAGC,gBAAgB,IAAI;EACzC,OAAOA,gBAAgB,CAACC,WAAjB,IAAgCD,gBAAgB,CAACE,IAAjD,IAAyD,WAAhE,CAAA;AACD,CAFD,CAAA;;AAIM+B,MAAAA,gBAAgB,GAAGjC,gBAAgB,IAAI;EAC3C,MAAMI,eAAe,GAAGC,KAAK,IAAI;IAC/B,OAAO;AACLc,MAAAA,KAAK,EAAEe,2BAA2B,CAAC7B,KAAD,CAD7B;AAELS,MAAAA,SAAS,EAAEqB,+BAA+B,CAAC9B,KAAD,CAFrC;AAGL+B,MAAAA,SAAS,EAAEC,+BAA+B,CAAChC,KAAD,CAHrC;MAILW,IAAI,EAAEsB,sBAAsB,CAACjC,KAAD,CAAA;KAJ9B,CAAA;GADF,CAAA;;AASA,EAAA,MAAMmB,kBAAkB,GAAG;AACzBe,IAAAA,YAAAA;GADF,CAAA;AAIA,EAAA,MAAMnB,kBAAkB,GAAGW,OAAO,CAChC3B,eADgC,EAEhCoB,kBAFgC,CAAP,CAGzBQ,IAAI,CAAChC,gBAAD,CAHqB,CAA3B,CAAA;EAKAoB,kBAAkB,CAACnB,WAAnB,GAAkC,CAAA,EAAEF,cAAc,CAACC,gBAAD,CAAmB,CAArE,CAAA,CAAA;AAEA,EAAA,OAAOoB,kBAAP,CAAA;AACD;;;;"}