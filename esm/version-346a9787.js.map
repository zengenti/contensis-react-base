{"version":3,"file":"version-346a9787.js","sources":["../src/redux/types/navigation.js","../src/redux/reducers/navigation.ts","../src/routing/redux/reducers.ts","../src/redux/types/version.js","../src/redux/reducers/version.ts","../src/redux/store/routerMiddleware.js","../src/redux/store/store.ts","../src/redux/selectors/version.js"],"sourcesContent":["const ACTION_PREFIX = '@NAVIGATION/';\nexport const GET_NODE_TREE = `${ACTION_PREFIX}_GET_NODE_TREE`;\nexport const SET_NODE_TREE = `${ACTION_PREFIX}_SET_NODE_TREE`;\nexport const GET_NODE_TREE_ERROR = `${ACTION_PREFIX}_GET_NODE_TREE_ERROR`;\n","import { Draft, produce } from 'immer';\nimport { SET_NODE_TREE, GET_NODE_TREE_ERROR } from '~/redux/types/navigation';\n\nconst initialState = {\n  root: null,\n  error: {\n    isError: false,\n    message: null,\n  },\n  isReady: false,\n};\n\nexport default produce((state: Draft<any>, action) => {\n  switch (action.type) {\n    case SET_NODE_TREE: {\n      state.root = action.nodes;\n      state.isReady = true;\n      return;\n    }\n    case GET_NODE_TREE_ERROR: {\n      state.error.isError = true;\n      state.error.message = action.error || 'Unknown error occurred';\n      return;\n    }\n    default:\n      return;\n  }\n}, initialState);\n","import { Draft, original, produce } from 'immer';\n\nimport {\n  SET_ENTRY,\n  SET_NAVIGATION_PATH,\n  SET_ANCESTORS,\n  SET_TARGET_PROJECT,\n  SET_ROUTE,\n  SET_SIBLINGS,\n  SET_SURROGATE_KEYS,\n  UPDATE_LOADING_STATE,\n} from './types';\n\nconst initialState = {\n  canonicalPath: null,\n  currentHostname: null,\n  currentPath: '/',\n  currentNode: {},\n  currentNodeAncestors: [],\n  currentProject: 'unknown',\n  entryID: null,\n  entry: null,\n  error: undefined,\n  isError: false,\n  isLoading: false,\n  location: {},\n  mappedEntry: null,\n  notFound: false,\n  staticRoute: null,\n  statusCode: 200,\n};\n\nexport default produce((state: Draft<any>, action) => {\n  switch (action.type) {\n    case SET_ANCESTORS: {\n      state.currentNodeAncestors = action.ancestors;\n      return;\n    }\n    case SET_ENTRY: {\n      const {\n        entry,\n        error,\n        mappedEntry,\n        node = {},\n        isError = false,\n        isLoading = false,\n        notFound = false,\n        statusCode,\n        currentPath,\n      } = action;\n\n      let defaultStatus = 200;\n      if (notFound === true && isError === false) defaultStatus = 404;\n      else if (isError === true) defaultStatus = statusCode || 500;\n\n      if (!entry) {\n        state.entryID = null;\n        state.entry = null;\n        state.error = error;\n        state.mappedEntry = null;\n        state.isError = isError;\n        state.isLoading = isLoading;\n        state.notFound = notFound;\n        state.statusCode = statusCode || defaultStatus;\n        state.canonicalPath = currentPath;\n      } else {\n        state.entryID = action.id;\n        state.entry = entry;\n        state.error = error;\n        state.isError = isError;\n        state.isLoading = isLoading;\n        state.notFound = notFound;\n        state.statusCode = statusCode || defaultStatus;\n        state.canonicalPath = entry.sys.uri || currentPath;\n\n        if (mappedEntry && Object.keys(mappedEntry).length > 0) {\n          state.mappedEntry = mappedEntry;\n          state.entry = { sys: entry.sys };\n        }\n      }\n\n      if (!node) {\n        state.currentNode = null;\n      } else {\n        // On Set Node, we reset all dependants.\n        state.currentNode = node;\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const { entry, ...nodeWithoutEntry } = node; // We have the entry stored elsewhere, so lets not keep it twice.\n        state.currentNode = nodeWithoutEntry;\n      }\n\n      return;\n    }\n    case UPDATE_LOADING_STATE: {\n      state.isLoading = action.isLoading;\n      return;\n    }\n    case SET_NAVIGATION_PATH: {\n      let staticRoute = {} as any;\n      if (action.staticRoute) {\n        staticRoute = { ...action.staticRoute };\n      }\n      if (action.path) {\n        // Don't run a path update on initial load as we allready should have it in redux\n        const entryUri = state?.entry?.sys?.uri;\n        if (entryUri !== action.path) {\n          state.currentPath = action.path;\n          state.location = action.location;\n          state.staticRoute = {\n            ...staticRoute,\n            route: { ...staticRoute.route, component: null },\n          };\n          state.isLoading = typeof window !== 'undefined';\n        } else {\n          state.location = action.location;\n          state.staticRoute = {\n            ...staticRoute,\n            route: { ...staticRoute.route, component: null },\n          };\n        }\n      }\n      return;\n    }\n    case SET_ROUTE: {\n      state.nextPath = action.path;\n      return;\n    }\n    case SET_SIBLINGS: {\n      // Can be null in some cases like the homepage.\n      let currentNodeSiblingParent = null;\n      if (action.siblings && action.siblings.length > 0) {\n        currentNodeSiblingParent = action.siblings[0].parentId;\n      }\n\n      state.currentNodeSiblings = action.siblings;\n      state.currentNodeSiblingsParent = currentNodeSiblingParent;\n      return;\n    }\n    case SET_SURROGATE_KEYS: {\n      const newKeys = (action.keys || '').split(' ');\n      const stateKeys = state.surrogateKeys\n        ? original(state.surrogateKeys)\n        : [];\n      const allKeys = [...stateKeys, ...newKeys];\n      const uniqueKeys = [...new Set(allKeys)];\n      state.surrogateKeys = uniqueKeys;\n      return;\n    }\n    case SET_TARGET_PROJECT: {\n      state.currentProject = action.project;\n      state.allowedGroups = action.allowedGroups;\n      state.currentHostname = action.hostname;\n      return;\n    }\n    default:\n      return state;\n  }\n}, initialState);\n","const VERSION_PREFIX = '@VERSION/';\nexport const SET_VERSION = `${VERSION_PREFIX}SET_VERSION`;\nexport const SET_VERSION_STATUS = `${VERSION_PREFIX}SET_VERSION_STATUS`;\n","import { Draft, produce } from 'immer';\nimport { SET_VERSION, SET_VERSION_STATUS } from '~/redux/types/version';\n\nconst initialState = {\n  commitRef: null,\n  buildNo: null,\n  contensisVersionStatus: null as 'latest' | 'published' | null,\n};\n\nexport default produce((state: Draft<any>, action) => {\n  switch (action.type) {\n    case SET_VERSION_STATUS: {\n      state.contensisVersionStatus = action.status;\n      return;\n    }\n    case SET_VERSION: {\n      state.commitRef = action.commitRef;\n      state.buildNo = action.buildNo;\n      return;\n    }\n    default:\n      return;\n  }\n}, initialState);\n","/**\n * This middleware captures 'CALL_HISTORY_METHOD' actions to redirect to the\n * provided history object. This will prevent these actions from reaching your\n * reducer or any middleware that comes after this one.\n */\n/* eslint-disable no-unused-vars */\nconst routerMiddleware = history => store => next => action => {\n  if (action.type !== 'CALL_HISTORY_METHOD') {\n    return next(action);\n  }\n\n  const {\n    payload: { method, args },\n  } = action;\n  history[method](...args);\n};\n\nexport default routerMiddleware;\n","import {\n  applyMiddleware,\n  combineReducers,\n  compose,\n  createStore,\n  Action,\n  Store,\n  StoreEnhancer,\n} from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport createSagaMiddleware, { END } from 'redux-saga';\nimport { createInjectorsEnhancer } from 'redux-injectors';\n\n// Core reducers\nimport NavigationReducer from '../reducers/navigation';\nimport RoutingReducer from '~/routing/redux/reducers';\nimport UserReducer from '~/user/redux/reducers';\nimport VersionReducer from '../reducers/version';\nimport routerMiddleware from './routerMiddleware';\nimport { AppState } from '../appstate';\nimport { History, MemoryHistory } from 'history';\nimport { StateType } from '~/config';\n\nexport let reduxStore;\n\n/* eslint-disable no-underscore-dangle */\ndeclare let window: Window &\n  typeof globalThis & {\n    __REDUX_DEVTOOLS_EXTENSION__: any;\n  };\n\nexport default async (\n  featureReducers: any,\n  initialState: AppState,\n  history: History | MemoryHistory,\n  stateType: StateType\n) => {\n  let reduxDevToolsMiddleware = f => f;\n\n  if (typeof window != 'undefined') {\n    reduxDevToolsMiddleware = window.__REDUX_DEVTOOLS_EXTENSION__\n      ? window.__REDUX_DEVTOOLS_EXTENSION__()\n      : f => f;\n  }\n\n  const sagaMiddleware = createSagaMiddleware();\n\n  const reducers = {\n    navigation: NavigationReducer,\n    routing: RoutingReducer,\n    user: UserReducer,\n    version: VersionReducer,\n    ...featureReducers,\n  };\n\n  // Reassign the combiner and fromJS functions when\n  // stateType is 'immutable' with dynamic imports\n  let combiner = combineReducers;\n  let fromJS: any = (obj: any) => obj;\n  globalThis.STATE_TYPE = stateType;\n\n  if (stateType === 'immutable') {\n    globalThis.immutable = await import(\n      /* webpackChunkName: \"immutable\" */ 'immutable'\n    );\n\n    fromJS = (\n      await import(/* webpackChunkName: \"from-js\" */ '~/util/fromJSLeaveImmer')\n    ).default;\n\n    combiner = (\n      await import(/* webpackChunkName: \"redux-immutable\" */ 'redux-immutable')\n    ).combineReducers;\n  }\n\n  const createReducer = (injectedReducers = {}) => {\n    const rootReducer = combiner<AppState>({\n      ...injectedReducers,\n      // other non-injected reducers go here\n      ...reducers,\n    });\n\n    return rootReducer;\n  };\n\n  const store = (initialState: AppState) => {\n    const runSaga = sagaMiddleware.run;\n\n    const middleware: StoreEnhancer<\n      {\n        dispatch: unknown;\n      },\n      unknown\n    > = compose(\n      applyMiddleware(\n        thunkMiddleware,\n        sagaMiddleware,\n        routerMiddleware(history)\n      ),\n      createInjectorsEnhancer({\n        createReducer,\n        runSaga,\n      }),\n      reduxDevToolsMiddleware\n    );\n\n    const store: Store<AppState, Action<any>> & {\n      runSaga?: typeof runSaga;\n      close?: () => void;\n    } = createStore<AppState, Action<any>, unknown, unknown>(\n      createReducer(),\n      initialState,\n      middleware\n    );\n\n    store.runSaga = runSaga;\n    store.close = () => store.dispatch(END);\n\n    return store;\n  };\n\n  reduxStore = store(fromJS(initialState));\n  return reduxStore;\n};\n","import { getImmutableOrJS as getIn } from '~/redux/util';\n\nexport const selectCommitRef = state => getIn(state, ['version', 'commitRef']);\n\nexport const selectBuildNumber = state => getIn(state, ['version', 'buildNo']);\n\nexport const selectVersionStatus = state =>\n  getIn(state, ['version', 'contensisVersionStatus']);\n"],"names":["ACTION_PREFIX","GET_NODE_TREE","SET_NODE_TREE","GET_NODE_TREE_ERROR","initialState","root","error","isError","message","isReady","produce","state","action","type","nodes","canonicalPath","currentHostname","currentPath","currentNode","currentNodeAncestors","currentProject","entryID","entry","undefined","isLoading","location","mappedEntry","notFound","staticRoute","statusCode","SET_ANCESTORS","ancestors","SET_ENTRY","node","defaultStatus","id","sys","uri","Object","keys","length","nodeWithoutEntry","UPDATE_LOADING_STATE","SET_NAVIGATION_PATH","path","_state$entry","_state$entry$sys","entryUri","route","component","window","SET_ROUTE","nextPath","SET_SIBLINGS","currentNodeSiblingParent","siblings","parentId","currentNodeSiblings","currentNodeSiblingsParent","SET_SURROGATE_KEYS","newKeys","split","stateKeys","surrogateKeys","original","allKeys","uniqueKeys","Set","SET_TARGET_PROJECT","project","allowedGroups","hostname","VERSION_PREFIX","SET_VERSION","SET_VERSION_STATUS","commitRef","buildNo","contensisVersionStatus","status","routerMiddleware","history","store","next","payload","method","args","reduxStore","featureReducers","stateType","reduxDevToolsMiddleware","f","__REDUX_DEVTOOLS_EXTENSION__","sagaMiddleware","createSagaMiddleware","reducers","navigation","NavigationReducer","routing","RoutingReducer","user","UserReducer","version","VersionReducer","combiner","combineReducers","fromJS","obj","globalThis","STATE_TYPE","immutable","default","createReducer","injectedReducers","rootReducer","runSaga","run","middleware","compose","applyMiddleware","thunkMiddleware","createInjectorsEnhancer","createStore","close","dispatch","END","selectCommitRef","getIn","selectBuildNumber","selectVersionStatus"],"mappings":"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"}